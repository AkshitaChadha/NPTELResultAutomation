<!DOCTYPE html>
<html>
<head>
    <title>Map NPTEL Subjects</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<!-- ðŸ”¹ NAVBAR (same as other pages) -->
<div class="navbar">
    <h3>NPTEL Result System</h3>

    <div class="nav-actions">
        <a href="/manage_subjects">
            <button class="secondary-btn">Back</button>
        </a>
        <a href="/logout">
            <button class="primary-btn">Logout</button>
        </a>
    </div>
</div>

<!-- ðŸ”¹ MAIN CONTAINER -->
<div class="mergecontainer">

    <h2 class="page-title">Map NPTEL Subjects</h2>
    <p>Select branches and semester for each NPTEL subject</p>
    <br>

    <form method="POST" class="form-box">

    <table class="styled-table">
        <thead>
            <tr>
                <th>Subject</th>
                <th>Branches</th>
                <th>Semester</th>
            </tr>
        </thead>

        <tbody>
        {% for s in subjects %}
            <tr>
                <!-- Subject -->
                <td>
                    <b>{{ s.subject_code }}</b><br>
                    {{ s.subject_name }}
                    <input type="hidden" name="subject_id[]" value="{{ s.id }}">
                </td>

                <!-- Branches -->
                <td>
                    {% for b in branches %}
                        <label style="margin-right:12px;">
                            <input type="checkbox"
                                  name="branches_{{ s.id }}"
                                  value="{{ b.name }}">
                            {{ b.name }}
                        </label>
                    {% endfor %}
                </td>

                <!-- Semester -->
                <td>
                    <select name="semester_{{ s.id }}" required>
                        <option value="">Select</option>
                        {% for sem in allowed_semesters %}
                            <option value="{{ sem }}">{{ sem }}</option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <br>
    <button class="primary-btn">Save Mapping</button>
    </form>

</div>

</body>
</html>